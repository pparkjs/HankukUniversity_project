<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.hku.admin.mapper.CalendarMapper">
	
	<select id="getCalendarList" resultType="calendarVO">
		/* kr.or.hku.admin.mapper.CalendarMapper.getCalendarList */
		SELECT
			  cal_no
			, cal_ttl
			, cal_cn
			, cal_bgng_dt
			, cal_end_dt
			, cal_color
			, cal_clsf_cd 
		FROM CALENDAR
		WHERE 1=1
	</select>
	
	<insert id="addCalendar" parameterType="calendarVO" useGeneratedKeys="true">
		/* kr.or.hku.admin.mapper.CalendarMapper.addCalendar */
		<selectKey keyProperty="calNo" resultType="int" order="BEFORE">
			SELECT seq_calendar.NEXTVAL FROM dual
		</selectKey>
		INSERT INTO calendar(
			  cal_no
			, cal_ttl
			, cal_cn
			, cal_bgng_dt
			, cal_end_dt
			, cal_color
			, cal_clsf_cd
		)VALUES(
			  #{calNo}
			, #{calTtl}
			, #{calCn}
			, #{calBgngDt}
			, #{calEndDt}
			, #{calColor}
			, #{calClsfCd}
		)
	</insert>
</mapper>